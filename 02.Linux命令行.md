# Linux Command Line

## 1.Shell

Shell 接受键盘输入的命令，将其传入到 OS 中执行。一般提到的命令行就是 Shell，Linux 发行版提供了来自 GNU 项目的 Shell 程序 Bash。Bash 是 sh(UNIX Shell) 的增强版。

### 1.1目录解读

![11](img/11.jpg)

![12](img/12.jpg)

![13](img/13.jpg)

### 1.2概述

提示符：`#` 表示具有超级用户 (root) 权限，一般情况下为 `$`。

查看磁盘当前可用空间：`df`

查看内存容量：`free`

终止终端：`exit` 或 `ctrl+d`

#### 文件树

在类 UNIX 系统中，只有一个文件系统树，按照设置，存储设备会**挂载**在文件系统树的不同位置。

**pwd:** 显示当前目录，即 print working directory，每个普通用户都有自己的主目录，该**主目录也是普通用户唯一有权限写入文件的地方。**

**ls:** 列出当前工作目录中的文件和子目录

```bash
ls --help
# 使用长格式命令
ls -l 
ls -lt --reverse
```

![](img/09.jpg)

**cd:**  更改当前目录，如更改到程序安装的目录中：`cd /usr/bin`。`.` 表示当前目录，`..` 表示上一级目录，

大多数情况下，可以忽略 `./` 。

一些便捷写法：

![](img/08.jpg)

**文件名说明**

在 Linux 中万物皆文件 (Everything is a file)，不要求文件名必须反映文件内容，如 `.jpg` 文件未必就是图像。

- 以 `.` 开头的文件是隐藏的，使用 `ls -a` 才可以查看
- 建议使用下划线 `_` 而不是空格，避免不必要的麻烦
- 没有文件拓展名，即不根据文件拓展名决定文件的内容和用途

#### 选项和参数

```bash
command -option arguments
```

单个连字符：短选项，可合并在一起使用

两个连字符：长选项

**文件字段解读**

10 个字符，第一个指明文件的类型，其余皆表明相应的文件访问权限。

![](img/10.jpg)

**file:** 确定文件类型，输出对文件的简要描述。

**less:** 使用 less 命令查看文本文件，`less \etc\passwd`

#### 符号链接和硬链接

符号链接也称作软链接。

![](img/14.jpg)

### 1.3操作文件和目录

#### 常用命令

- mkdir：创建目录
- cp：复制文件和目录
- mv：移动和重命名文件和目录
- rm：删除文件和目录
- ln：创建符号链接和硬链接

#### 通配符

通配符 (wildcard)：用于帮助快速指定一组文件名的一种特殊字符。

使用通配符的过程称为，通配符匹配 (globbing)。

`[A-Z]` 或 `[a-z]` 属于传统的写法，现在使用字符类代替这种写法。

匹配隐藏文件：`.[!.]*`

![](img/15.jpg)

![16](img/16.jpg)

![17](img/17.jpg)

#### 详解介绍

**mkdir**

```bash
mkdir dir1, dir2, dir3
```

**cp**

与 mv 的用法类似，未指明选项的，会默认覆盖同名文件。

![](img/18.jpg)

![](img/19.jpg)

```bash
# 将 item1 复制到 item2
cp item1 item2
```

**mv**

![](img/20.jpg)

![21](img/21.jpg)

**rm**

删除一个或多个文件和目录

`rm -r directory`: 删除文件夹

![](img/22.jpg)

**ln**

创建硬链接和符号链接。

```bash
#硬链接，不能为目录创建
ln file link
#符号链接，文件或目录
ln -s item link
```

**硬链接**：默认情况每个文件只有一个，存在两个重要限制：

- 不能引用目录
- 文件与链接不在同一磁盘分区则无法引用该文件

![](img/23.jpg)

**4** 表示当前的硬链接数量，**文件至少一个硬链接，因为文件名就是一个硬链接**。

但由于硬链接无法直接显示出，具体分辨可以用：`ls -il` 查看文件节点号，节点号对应磁盘上存储数据的位置，最终也可以看出二者是同一个文件。

![](img/24.jpg)

![25](img/25.jpg)

**符号链接**：与 Windows 的快捷方式类似，不过早于快捷方式，用于克服硬链接缺陷。

```bash
ln -s fun fun-soft
ln -s ../fun dir1/fun-soft
#为目录创建
ln -s dir1 dir1-sym
```

![](img/26.jpg)

### 1.4深入理解命令

#### 什么是命令

- 可执行程序
- 在 Shell 中的内建命令
- Shell 函数
- 别名，自定义命令

#### 详细介绍

**type**

确定命令的类型，需要注意的是，**ls 实际上是添加了 --color=tty 选项命令的别名 (aliased)，所以输出结果是彩色的。**

![](img/27.jpg)

**which**

显示**可执行文件**的位置

**help**

获取帮助文档

```bash
#适用于所有的Shell内建命令
help cd 
mkdir --help
```

**man**

大多数命令行程序会提供一份叫做手册 (manual) 或手册页 (man page) 的正式文档。

一般包含以下的内容：

- 标题
- 命令语法提要
- 命令作用描述
- 命令选项清单及描述

```bash
man ls
man 5 passwd #显示指定的节
man -k list #使用关键字粗糙搜索，与 apropos list 类似
```

![](img/28.jpg)

```bash
whatis ls #显示手册的简介
```





















